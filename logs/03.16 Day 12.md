# 03.16 Day 12

- [ ] 进阶 6：增加主角攻击能力
  - [ ] 在拥有武器后，点击鼠标右键后，主角会抬手向鼠标所在方向发射子弹
      - [ ] 子弹会沿直线飞行，碰到障碍物、怪物、墙壁消失（特别注意：未打开的宝箱是障碍物，打开的宝箱不是障碍物）。
      - [ ] 开枪后 1 秒才能开下一枪。
- 打开宝箱后
  - 显示武器，按F拾取
    - 拾取后宝箱的武器消失
    - 人物手上显示武器
    - PlayerProperty中m_WeaponSystem = true
    - 激活武器
  - 武器打完子弹m_WeaponSystem = false
- 显示武器 WeaponSystem
  - 武器属性：
    - 是否激活：激活后显示，失效后不显示SetActive
      - ActiveWeapon（）
      - InActiveWeapon（）
    - 剩余子弹：子弹消失后不显示
      - int m_BulletCount = 3
- 点击鼠标攻击
  - 左键按下发射子弹
    - Input.GetButtonDown（按钮名）
      - 要编辑，设置或删除按钮及其名称（例如“ Fire1”），请执行以下操作：1.转到“**编辑”** >“**项目设置”** >“**输入管理器”**以调出输入管理器。2.展开**轴**通过单击旁边的箭头。这显示了您当前拥有的按钮的列表。您可以将其中之一用作参数“ buttonName”。3.展开列表中的一项，以访问和更改各个方面，例如按钮的名称和触发它的键，操纵杆或鼠标移动。4.有关按钮的更多信息，请参见“[输入管理器”](https://docs.unity3d.com/Manual/class-InputManager.html)页面。 
    - 创建一个子弹，Rigidbody.AddForce向前飞行
      - Instantiate(bulletPrefab, barrelLocation.position, barrelLocation.rotation).GetComponent<Rigidbody>().AddForce(barrelLocation.forward * shotPower);
      - m_BulletCount -- ; =0 武器消失
    - 飞行之后碰撞消失Collider碰撞，子弹设trigger，碰到collider就消失
      - OnTriggerEnter（collider other）
        - 
      - 宝箱打开后，设置collider为false
    - Timer，一秒后才能开枪
    - 子弹数减一
  - 抬手